import L, { DivIcon } from 'leaflet';

export const treeMarker = (isBadCondition: boolean): DivIcon =>
  L.divIcon({
    className: 'custom-marker',
    html: `
            <svg width="42" height="53" viewBox="0 0 42 53" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_120_35)">
                    <path d="M19.1407 44.0921C6.37041 25.5789 4 23.6789 4 16.875C4 7.55516 11.5552 0 20.875 0C30.1948 0 37.75 7.55516 37.75 16.875C37.75 23.6789 35.3796 25.5789 22.6093 44.0921C21.7712 45.3027 19.9787 45.3026 19.1407 44.0921Z" fill=${!isBadCondition ? '#334D42' : '#CE6146'} />
                    <circle cx="21" cy="17" r="14.5" fill=${!isBadCondition ? '#334D42' : '#CE6146'} stroke="#EFE9CE" />
                    <path d="M26.5761 11.6949C26.1129 10.6003 25.3331 9.66554 24.3348 9.00814C23.3365 8.35073 22.1641 8 20.965 8C19.7659 8 18.5935 8.35073 17.5952 9.00814C16.5969 9.66554 15.8171 10.6003 15.3539 11.6949C14.3535 12.1475 13.5055 12.875 12.911 13.7908C12.3164 14.7067 12.0002 15.7724 12 16.861C11.992 19.8873 14.5614 22.5016 17.6143 22.5808C18.5534 22.6033 19.4837 22.3985 20.3246 21.9843V25.1159C20.3246 25.284 20.3921 25.4452 20.5122 25.5641C20.6323 25.6829 20.7952 25.7497 20.965 25.7497C21.1348 25.7497 21.2977 25.6829 21.4178 25.5641C21.5379 25.4452 21.6054 25.284 21.6054 25.1159V21.9843C22.4014 22.3755 23.278 22.5797 24.1668 22.5808H24.3125C27.3686 22.5016 29.9388 19.8873 29.93 16.861C29.9298 15.7724 29.6136 14.7067 29.019 13.7908C28.4245 12.875 27.5765 12.1475 26.5761 11.6949ZM24.2828 21.3133C23.3279 21.3379 22.3899 21.0604 21.6054 20.5211V17.273L25.0937 15.5475C25.169 15.5103 25.2361 15.4587 25.2912 15.3958C25.3463 15.3329 25.3884 15.2598 25.415 15.1808C25.4416 15.1018 25.4523 15.0184 25.4463 14.9353C25.4403 14.8522 25.4179 14.7712 25.3802 14.6967C25.3426 14.6222 25.2905 14.5557 25.227 14.5012C25.1634 14.4466 25.0896 14.405 25.0098 14.3786C24.9299 14.3523 24.8456 14.3418 24.7617 14.3477C24.6778 14.3536 24.5958 14.3758 24.5206 14.413L21.6054 15.8517V13.708C21.6054 13.5399 21.5379 13.3787 21.4178 13.2598C21.2977 13.141 21.1348 13.0742 20.965 13.0742C20.7952 13.0742 20.6323 13.141 20.5122 13.2598C20.3921 13.3787 20.3246 13.5399 20.3246 13.708V17.753L17.4094 16.3096C17.2574 16.2344 17.0815 16.222 16.9202 16.2752C16.759 16.3284 16.6257 16.4428 16.5497 16.5932C16.4737 16.7437 16.4612 16.9178 16.515 17.0774C16.5687 17.237 16.6843 17.3689 16.8363 17.4441L20.3246 19.1695V20.5163C19.5402 21.056 18.6021 21.3336 17.6472 21.3085C15.2738 21.2523 13.2743 19.2155 13.2807 16.8642C13.2801 15.9799 13.5476 15.1158 14.0487 14.3836C14.5497 13.6514 15.2612 13.0849 16.0911 12.7573C16.1743 12.7242 16.2496 12.6742 16.3121 12.6105C16.3746 12.5467 16.4228 12.4707 16.4537 12.3873C16.7915 11.4718 17.4054 10.6812 18.2124 10.1226C19.0193 9.56403 19.9803 9.26444 20.965 9.26444C21.9497 9.26444 22.9107 9.56403 23.7176 10.1226C24.5246 10.6812 25.1385 11.4718 25.4763 12.3873C25.5072 12.4707 25.5554 12.5467 25.6179 12.6105C25.6804 12.6742 25.7557 12.7242 25.8389 12.7573C26.6687 13.0851 27.38 13.6516 27.8811 14.3838C28.3821 15.1159 28.6497 15.9799 28.6493 16.8642C28.6557 19.2155 26.6562 21.2523 24.2828 21.3133Z" fill="#EFE9CE" stroke="#EFE9CE" />
                </g>
                <defs>
                    <filter id="filter0_d_120_35" x="0" y="0" width="41.75" height="53" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                        <feFlood flood-opacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                        <feOffset dy="4" />
                        <feGaussianBlur stdDeviation="2" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_120_35" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_120_35" result="shape" />
                    </filter>
                </defs>
            </svg>
        `,
    iconSize: [20, 20],
    iconAnchor: [10, 10],
  });

export const userMarker = (): DivIcon => {
  return L.divIcon({
    className: 'custom-marker',
    html: `
            <div class="relative flex items-center justify-center">
                <div class="absolute h-8 w-8 bg-blue-300 rounded-full opacity-75 animate-ping"></div>
                <div class="relative h-4 w-4 bg-blue-500 rounded-full z-10"></div>
            </div>
        `,
    iconSize: [20, 20],
    iconAnchor: [10, 10],
  });
};
